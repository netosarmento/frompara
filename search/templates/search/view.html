{% extends "base.html" %}

{% block content %}
    <div class="container">
        <h1>Resultados da Pesquisa</h1>
        
        {% if query %}
            <p>Resultados para: <strong>{{ query }}</strong></p>
        {% endif %}
        
        {% if products %}
            <h2>Produtos</h2>
            <div class="row">
                {% for product in products %}
                    <div class="col-md-4">
                        {% include 'products/snippets/card.html' with instance=product %}
                    </div>
                    {% if forloop.counter|divisibleby:3 %}
                        </div><div class="row">
                    {% endif %}
                {% endfor %}
            </div>
        {% endif %}
        
        {% if anuncios %}
            <h2>An√∫ncios</h2>
            <div class="row">
                {% for anuncio in anuncios %}
                    <div class="col-md-4">
                        {% include 'anuncios/snippets/card.html' with instance=anuncio %}
                    </div>
                    {% if forloop.counter|divisibleby:3 %}
                        </div><div class="row">
                    {% endif %}
                {% endfor %}
            </div>
        {% endif %}
        
        {% if not products and not anuncios %}
            <p>Nenhum resultado encontrado.</p>
        {% endif %}
    </div>
{% endblock content %}
